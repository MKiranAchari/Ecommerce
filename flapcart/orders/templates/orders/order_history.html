{% extends "base.html" %}
{% block content %}
<h2>My Orders</h2>

{% if orders %}
    {% for order in orders %}
    <div class="card mb-3">
        <div class="card-header">
            Order #{{ order.id }} - {{ order.get_status_display }} ({{ order.created_at|date:"M d, Y H:i" }})
        </div>
        <ul class="list-group list-group-flush">
            {% for item in order.items.all %}
            <li class="list-group-item">
                {{ item.product.name }} (x{{ item.quantity }}) - ₹{{ item.total_price }}
            </li>
            {% endfor %}
        </ul>
        <div class="card-footer text-end">
            <strong>Total: ₹{{ order.total_amount }}</strong>
        </div>
    </div>
    {% endfor %}
{% else %}
    <p>You have no past orders.</p>
{% endif %}

{% endblock %}
